[OpenGL PBR Tutorial](https://learnopengl.com/PBR/Theory)
# 1. 이론
물리 기반 렌더링은 물리적 원리를 기반으로 한 근사방식. 따라서 물리적 셰이딩이 아닌 물리 기반 셰이딩이라고 불린다.
## 1.1. 조건
1. 미세면(Microfacet) 표면 모델을 기반으로 해야한다.
2. 에너지를 보존해야 한다
3. 물리 기반 BRDF(Bidirectional Reflectance Distribution Function, 양방향 반사 분포 함수)를 사용해야 한다.
## 1.2. 특징
1. 조명 조건에 관계없이 재질이 일관되게 올바르게 보인다.
2. 비 PBR 에 비해 일반적으로 더 현실적인 결과를 제공한다.
![[Attachments/Pasted image 20250313092650.png]]
이 문서는 Disney에서 처음 연구하고 EpicGames에서 실시간 렌더링에 적용한 PBR 접근방식을 중점적으로 다룬다. 이 접근 방식은 **메탈릭 워크 플로우**를 기반으로하며, 대부분의 게임 엔진에서 널리 채택되었다.
# 2. 미세면(Microfacet) 모델
모든 PBR 기술은 미세면 이론을 기반으로 한다. 이 이론에 따르면, 어떤 표면이든 미세한 거울(Microfacets)로 이루어져 있어 이 들은 각각 완벽하게 반사하는 작은 거울처럼 동작한다.
표면의 거칠기에 따라 이 작은 거울들의 정렬 방식이 크게 달라질 수 있다.
![[Attachments/Pasted image 20250313092852.png]]
표면이 거칠수록, 각 미세면이 표면을 따라 더욱 무질서하게 정렬된다.
이러한 미세한 거울들의 정렬 방식이 조명 반사에 미치는 영향은 다음과 같다.
- 거친 표면
	- 입사하는 빛이 다양한 방향으로 산란(scatter)된다.
	- 그 결과, 넓게 퍼지는(흐릿하고 부드러운) 반사가 발생.
- 매끄러운 표면
	- 입사하는 빛이 거의 같은 방향으로 반사된다
	- 그 결과, 작고 날카로운 반사광이 나타난다.
![[Attachments/Pasted image 20250313093058.png]]
어떤 표면도 미세한 수준에서 완전히 매끄럽지는 않지만, 미세면이 픽셀 단위에서 구별할 수 없을 정도로 작기 때문에,표면의 거칠기(roughness) 파라미터를 사용하여 통계적으로 근사 할 수 있다.